#! /usr/bin/env python

code = bytearray([
    0xa9, 0xff,         # LDA #$0xff
    0x8d, 0x02, 0x60,   # STA $6002

    0xa9, 0x01,         # LDA #$0x01
    0x8d, 0x00, 0x60,   # STA $6000

    0xa9, 0x02,         # LDA #$0x02
    0x8d, 0x00, 0x60,   # STA $6000

    0xa9, 0x04,         # LDA #$0x04
    0x8d, 0x00, 0x60,   # STA $6000

    0xa9, 0x08,         # LDA #$0x08
    0x8d, 0x00, 0x60,   # STA $6000

    0xa9, 0x10,         # LDA #$0x10
    0x8d, 0x00, 0x60,   # STA $6000

    0xa9, 0x20,         # LDA #$0x20
    0x8d, 0x00, 0x60,   # STA $6000

    0xa9, 0x40,         # LDA #$0x40
    0x8d, 0x00, 0x60,   # STA $6000

    0xa9, 0x80,         # LDA #$0x80
    0x8d, 0x00, 0x60,   # STA $6000

    0xa9, 0x00,         # LDA #$0x00
    0x8d, 0x00, 0x60,   # STA $6000

    0x4c, 0x05, 0x80,   # JMP $8005
])

rom = code + bytearray([0xea]*(2**15 - len(code)))

rom[0x7ffc] = 0x00
rom[0x7ffd] = 0x80

with open('rom.bin', 'wb') as outfile:
    outfile.write(rom)
